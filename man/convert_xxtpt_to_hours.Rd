% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convert_xxtpt_to_hours.R
\name{convert_xxtpt_to_hours}
\alias{convert_xxtpt_to_hours}
\title{Convert \code{XXTPT} Strings to Hours}
\usage{
convert_xxtpt_to_hours(xxtpt)
}
\arguments{
\item{xxtpt}{A character vector of timepoint descriptions from SDTM \code{--TPT} variables
(e.g., \code{PCTPT}, \code{VSTPT}, \code{EGTPT}, \code{ISTPT}, \code{LBTPT}). Can contain \code{NA} values.

\describe{
\item{Default value}{none}
}}
}
\value{
A numeric vector of timepoints in hours. Returns \code{NA_real_} for:
\itemize{
\item Input \code{NA} values
\item Unrecognized timepoint formats
\item Non-time descriptors (e.g., "Morning", "Evening")
}

Returns \code{numeric(0)} for empty input.
}
\description{
Converts CDISC timepoint strings (e.g., \code{PCTPT}, \code{VSTPT}, \code{EGTPT}, \code{ISTPT}, \code{LBTPT})
into numeric hours for analysis. The function handles common dose-centric formats
including pre-dose, post-dose (hours/minutes), days, time ranges, and special
time markers.
}
\details{
The function recognizes the following patterns (all case-insensitive):

\strong{Special Cases:}
\itemize{
\item \code{"Screening"} → -1
\item \code{"Pre-dose"}, \code{"Predose"}, \code{"Pre-infusion"}, \code{"Infusion"}, \code{"0H"}, \code{"0 H"} → 0
\item \code{"EOI"}, \code{"End of Infusion"} → 1
\item \code{"Morning"}, \code{"Evening"} → \code{NA_real_}
\item Unrecognized values → \code{NA_real_}
}

\strong{Time-based Conversions:}
\itemize{
\item \strong{Days}: \code{"Day 1"}, \code{"2D"}, \code{"2 days"}, \code{"1.5 days"} → multiply by 24 (e.g., 24, 48, 36)
\item \strong{Hours + Minutes}: \code{"1H30M"}, \code{"1 hour 30 min"}, \code{"2HR15MIN"} → hours +
minutes/60 (e.g., 1.5, 2.25)
\item \strong{Time Ranges}: \code{"0-6h"}, \code{"6-12h Post-dose"}, \code{"0.5 - 6.5h"} → end value (e.g., 6, 12, 6.5)
\item \strong{Hours only}: \code{"1H"}, \code{"2 hours"}, \code{"0.5HR"}, \code{"4hr Post-dose"} → as-is (e.g., 1, 2, 0.5, 4)
\item \strong{Minutes only}: \code{"30M"}, \code{"45 min"}, \code{"2.5 Min"} → divide by 60 (e.g., 0.5, 0.75, 0.042)
}

\strong{Supported Unit Formats:}
\itemize{
\item Hours: H, h, HR, hr, HOUR, hour, HOURS, hours
\item Minutes: M, m, MIN, min, MINUTE, minute, MINUTES, minutes
\item Days: D, d, DAY, day, DAYS, days
\item All with optional plurals and flexible whitespace
\item Optional "Post-dose" or "Post dose" suffix supported for all patterns
}
}
\examples{
convert_xxtpt_to_hours(c(
  "Screening", "Pre-dose", "EOI", "5 Min Post-dose", "10 MIN POSTDOSE", "30M",
  "1H30M", "2H POSTDOSE", "0-6h Post-dose", "Day 1", "24h", "48 HR"
))
}
\seealso{
Utilities for Formatting Observations:
\code{\link{convert_blanks_to_na}()},
\code{\link{convert_na_to_blanks}()},
\code{\link{yn_to_numeric}()}
}
\concept{utils_fmt}
\keyword{utils_fmt}
