<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create Summary Records â€” get_summary_records â€¢ admiral</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create Summary Records â€” get_summary_records"><meta name="description" content=" The get_summary_records() has been
deprecated in favor of derive_summary_records() (call it with the dataset_add
argument and without the dataset argument).
It is not uncommon to have an analysis need whereby one needs to derive an
analysis value (AVAL) from multiple records. The ADaM basic dataset
structure variable DTYPE is available to indicate when a new derived
records has been added to a dataset."><meta property="og:description" content=" The get_summary_records() has been
deprecated in favor of derive_summary_records() (call it with the dataset_add
argument and without the dataset argument).
It is not uncommon to have an analysis need whereby one needs to derive an
analysis value (AVAL) from multiple records. The ADaM basic dataset
structure variable DTYPE is available to indicate when a new derived
records has been added to a dataset."><meta property="og:image" content="https://pharmaverse.github.io/admiral/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">admiral</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.0.9023</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/admiral.html">Get Started</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/pharmaverse/admiral/blob/main/inst/cheatsheet/admiral_cheatsheet.pdf">Cheatsheet</a></li>
    <li><a class="dropdown-item" href="https://pharmaverse.github.io/admiraldiscovery/articles/presentation_archive.html">Presentation Archive</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-user-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">User Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-user-guides"><li><h6 class="dropdown-header" data-toc-skip>General Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/concepts_conventions.html">Programming Concepts and Conventions</a></li>
    <li><a class="dropdown-item" href="../articles/generic.html">Generic Derivations</a></li>
    <li><a class="dropdown-item" href="../articles/higher_order.html">Higher Order Functions</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>ADaM Script Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/adsl.html">Creating a Basic ADSL</a></li>
    <li><a class="dropdown-item" href="../articles/occds.html">Creating an OCCDS ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/bds_finding.html">Creating a BDS Findings ADAM</a></li>
    <li><a class="dropdown-item" href="../articles/bds_exposure.html">Creating a BDS Exposure ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/bds_tte.html">Creating a BDS Time-to-Event ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/questionnaires.html">Creating Questionnaire ADaMs</a></li>
    <li><a class="dropdown-item" href="../articles/pk_adnca.html">Creating a PK NCA or Population PK ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/hys_law.html">Hy's Law Implementation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Special Topics Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/imputation.html">Date and Time Imputation</a></li>
    <li><a class="dropdown-item" href="../articles/visits_periods.html">Visit and Period Variables</a></li>
    <li><a class="dropdown-item" href="../articles/queries_dataset.html">Queries Dataset Documentation</a></li>
    <li><a class="dropdown-item" href="../articles/lab_grading.html">Lab Grading</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/faq.html">FAQ</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="https://pharmaverse.github.io/admiraldiscovery/articles/reactable.html">ðŸ”Ž Find my function</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://pharmaverse.slack.com/" aria-label="Slack"><span class="fa fa-slack"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/website-versions.html" aria-label="Previous Release Websites"><span class="fa fa-history"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/admiral/issues/new/choose" aria-label="New Issue"><span class="fa fa-bug"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/admiral/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create Summary Records</h1>
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiral/blob/main/R/get_summary_records.R" class="external-link"><code>R/get_summary_records.R</code></a></small>
      <div class="d-none name"><code>get_summary_records.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> The <code>get_summary_records()</code> has been
deprecated in favor of <code><a href="derive_summary_records.html">derive_summary_records()</a></code> (call it with the <code>dataset_add</code>
argument and without the <code>dataset</code> argument).</p>
<p>It is not uncommon to have an analysis need whereby one needs to derive an
analysis value (<code>AVAL</code>) from multiple records. The ADaM basic dataset
structure variable <code>DTYPE</code> is available to indicate when a new derived
records has been added to a dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_summary_records</span><span class="op">(</span><span class="va">dataset</span>, <span class="va">by_vars</span>, filter <span class="op">=</span> <span class="cn">NULL</span>, set_values_to <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dataset">dataset<a class="anchor" aria-label="anchor" href="#arg-dataset"></a></dt>
<dd><p>Input dataset</p>
<p>The variables specified by the <code>by_vars</code> argument are expected to be in the dataset.</p>
<dl><dt>Default value</dt>
<dd><p>none</p></dd>


</dl></dd>


<dt id="arg-by-vars">by_vars<a class="anchor" aria-label="anchor" href="#arg-by-vars"></a></dt>
<dd><p>Grouping variables</p>
<p>Variables to consider for generation of groupwise summary records.</p>
<dl><dt>Default value</dt>
<dd><p>none</p></dd>


</dl></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p>Filter condition as logical expression to apply during
summary calculation. By default, filtering expressions are computed within
<code>by_vars</code> as this will help when an aggregating, lagging, or ranking
function is involved.</p>
<p>For example,</p><ul><li><p><code>filter_rows = (AVAL &gt; mean(AVAL, na.rm = TRUE))</code> will filter all AVAL
values greater than mean of AVAL with in <code>by_vars</code>.</p></li>
<li><p><code>filter_rows = (dplyr::n() &gt; 2)</code> will filter n count of <code>by_vars</code> greater
than 2.</p></li>
</ul><dl><dt>Default value</dt>
<dd><p><code>NULL</code></p></dd>


</dl></dd>


<dt id="arg-set-values-to">set_values_to<a class="anchor" aria-label="anchor" href="#arg-set-values-to"></a></dt>
<dd><p>Variables to be set</p>
<p>The specified variables are set to the specified values for the new
observations.</p>
<p>Set a list of variables to some specified value for the new records</p><ul><li><p>LHS refer to a variable.</p></li>
<li><p>RHS refers to the values to set to the variable. This can be a string, a
symbol, a numeric value, an expression or NA. If summary functions are
used, the values are summarized by the variables specified for <code>by_vars</code>.</p></li>
</ul><p>For example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  set_values_to <span class="ot">=</span> <span class="fu">exprs</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="at">AVAL =</span> <span class="fu">sum</span>(AVAL),</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    <span class="at">PARAMCD =</span> <span class="st">"TDOSE"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="at">PARCAT1 =</span> <span class="st">"OVERALL"</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  )</span></code></pre><p></p></div>
<dl><dt>Default value</dt>
<dd><p><code>NULL</code></p></dd>


</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame of derived records.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function only creates derived observations and does not append them
to the original dataset observations. If you would like to this instead,
see the <code><a href="derive_summary_records.html">derive_summary_records()</a></code> function.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="derive_summary_records.html">derive_summary_records()</a></code>, <code><a href="derive_var_merged_summary.html">derive_var_merged_summary()</a></code></p>
<p>Other deprecated:
<code><a href="date_source.html">date_source</a>()</code>,
<code><a href="derive_param_extreme_record.html">derive_param_extreme_record</a>()</code>,
<code><a href="derive_var_dthcaus.html">derive_var_dthcaus</a>()</code>,
<code><a href="derive_var_extreme_dt.html">derive_var_extreme_dt</a>()</code>,
<code><a href="derive_var_extreme_dtm.html">derive_var_extreme_dtm</a>()</code>,
<code><a href="dthcaus_source.html">dthcaus_source</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adeg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">USUBJID</span>,   <span class="op">~</span><span class="va">EGSEQ</span>, <span class="op">~</span><span class="va">PARAM</span>,             <span class="op">~</span><span class="va">AVISIT</span>,    <span class="op">~</span><span class="va">EGDTC</span>,             <span class="op">~</span><span class="va">AVAL</span>, <span class="op">~</span><span class="va">TRTA</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">1</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-24T07:50"</span>, <span class="fl">385</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">2</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-24T07:52"</span>, <span class="fl">399</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">3</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-24T07:56"</span>, <span class="fl">396</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">4</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-08T09:45"</span>, <span class="fl">384</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">5</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-08T09:48"</span>, <span class="fl">393</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">6</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-08T09:51"</span>, <span class="fl">388</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">7</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-22T10:45"</span>, <span class="fl">385</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">8</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-22T10:48"</span>, <span class="fl">394</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">9</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-22T10:51"</span>, <span class="fl">402</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">1</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-22T07:58"</span>, <span class="fl">399</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">2</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-22T07:58"</span>, <span class="fl">410</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">3</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-22T08:01"</span>, <span class="fl">392</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">4</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-06T09:50"</span>, <span class="fl">401</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">5</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-06T09:53"</span>, <span class="fl">407</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">6</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-06T09:56"</span>, <span class="fl">400</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">7</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-24T10:50"</span>, <span class="fl">412</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">8</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-24T10:53"</span>, <span class="fl">414</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">9</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-24T10:56"</span>, <span class="fl">402</span>,   <span class="st">"Active 20mg"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Summarize the average of the triplicate ECG interval values (AVAL)</span></span></span>
<span class="r-in"><span><span class="fu">get_summary_records</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">adeg</span>,</span></span>
<span class="r-in"><span>  by_vars <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">PARAM</span>, <span class="va">AVISIT</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  set_values_to <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    AVAL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">AVAL</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    DTYPE <span class="op">=</span> <span class="st">"AVERAGE"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `get_summary_records()` was deprecated in admiral 1.2.0.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">â„¹</span> Please use `derive_summary_records()` instead.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">âœ–</span> This message will turn into a warning at the beginning of 2026.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">â„¹</span> See admiral's deprecation guidance:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   https://pharmaverse.github.io/admiraldev/dev/articles/programming_strategy.html#deprecation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 Ã— 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID  PARAM            AVISIT    AVAL DTYPE  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> XYZ-1001 QTcF Int. (msec) Baseline  393. AVERAGE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> XYZ-1001 QTcF Int. (msec) Visit 2   388. AVERAGE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> XYZ-1001 QTcF Int. (msec) Visit 3   394. AVERAGE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> XYZ-1002 QTcF Int. (msec) Baseline  400. AVERAGE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> XYZ-1002 QTcF Int. (msec) Visit 2   403. AVERAGE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> XYZ-1002 QTcF Int. (msec) Visit 3   409. AVERAGE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Derive more than one summary variable</span></span></span>
<span class="r-in"><span><span class="fu">get_summary_records</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">adeg</span>,</span></span>
<span class="r-in"><span>  by_vars <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">PARAM</span>, <span class="va">AVISIT</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  set_values_to <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    AVAL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">AVAL</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    ASTDTM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu"><a href="convert_dtc_to_dtm.html">convert_dtc_to_dtm</a></span><span class="op">(</span><span class="va">EGDTC</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    AENDTM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="convert_dtc_to_dtm.html">convert_dtc_to_dtm</a></span><span class="op">(</span><span class="va">EGDTC</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    DTYPE <span class="op">=</span> <span class="st">"AVERAGE"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 Ã— 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID  PARAM      AVISIT  AVAL ASTDTM              AENDTM              DTYPE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> XYZ-1001 QTcF Int.â€¦ Baselâ€¦  393. 2016-02-24 <span style="color: #949494;">07:50:00</span> 2016-02-24 <span style="color: #949494;">07:56:00</span> AVERâ€¦</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> XYZ-1001 QTcF Int.â€¦ Visitâ€¦  388. 2016-03-08 <span style="color: #949494;">09:45:00</span> 2016-03-08 <span style="color: #949494;">09:51:00</span> AVERâ€¦</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> XYZ-1001 QTcF Int.â€¦ Visitâ€¦  394. 2016-03-22 <span style="color: #949494;">10:45:00</span> 2016-03-22 <span style="color: #949494;">10:51:00</span> AVERâ€¦</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> XYZ-1002 QTcF Int.â€¦ Baselâ€¦  400. 2016-02-22 <span style="color: #949494;">07:58:00</span> 2016-02-22 <span style="color: #949494;">08:01:00</span> AVERâ€¦</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> XYZ-1002 QTcF Int.â€¦ Visitâ€¦  403. 2016-03-06 <span style="color: #949494;">09:50:00</span> 2016-03-06 <span style="color: #949494;">09:56:00</span> AVERâ€¦</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> XYZ-1002 QTcF Int.â€¦ Visitâ€¦  409. 2016-03-24 <span style="color: #949494;">10:50:00</span> 2016-03-24 <span style="color: #949494;">10:56:00</span> AVERâ€¦</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Sample ADEG dataset with triplicate record for only AVISIT = 'Baseline'</span></span></span>
<span class="r-in"><span><span class="va">adeg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">USUBJID</span>,   <span class="op">~</span><span class="va">EGSEQ</span>, <span class="op">~</span><span class="va">PARAM</span>,             <span class="op">~</span><span class="va">AVISIT</span>,    <span class="op">~</span><span class="va">EGDTC</span>,             <span class="op">~</span><span class="va">AVAL</span>, <span class="op">~</span><span class="va">TRTA</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">1</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-24T07:50"</span>, <span class="fl">385</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">2</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-24T07:52"</span>, <span class="fl">399</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">3</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-24T07:56"</span>, <span class="fl">396</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">4</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-08T09:48"</span>, <span class="fl">393</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">5</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-08T09:51"</span>, <span class="fl">388</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">6</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-22T10:48"</span>, <span class="fl">394</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1001"</span>, <span class="fl">7</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-22T10:51"</span>, <span class="fl">402</span>,   <span class="st">"Placebo"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">1</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-22T07:58"</span>, <span class="fl">399</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">2</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-22T07:58"</span>, <span class="fl">410</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">3</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Baseline"</span>, <span class="st">"2016-02-22T08:01"</span>, <span class="fl">392</span>,   <span class="cn">NA_character_</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">4</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-06T09:53"</span>, <span class="fl">407</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">5</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 2"</span>,  <span class="st">"2016-03-06T09:56"</span>, <span class="fl">400</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">6</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-24T10:53"</span>, <span class="fl">414</span>,   <span class="st">"Active 20mg"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"XYZ-1002"</span>, <span class="fl">7</span>,      <span class="st">"QTcF Int. (msec)"</span>, <span class="st">"Visit 3"</span>,  <span class="st">"2016-03-24T10:56"</span>, <span class="fl">402</span>,   <span class="st">"Active 20mg"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute the average of AVAL only if there are more than 2 records within the</span></span></span>
<span class="r-in"><span><span class="co"># by group</span></span></span>
<span class="r-in"><span><span class="fu">get_summary_records</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">adeg</span>,</span></span>
<span class="r-in"><span>  by_vars <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">PARAM</span>, <span class="va">AVISIT</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  filter <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  set_values_to <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    AVAL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">AVAL</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    DTYPE <span class="op">=</span> <span class="st">"AVERAGE"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 Ã— 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID  PARAM            AVISIT    AVAL DTYPE  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> XYZ-1001 QTcF Int. (msec) Baseline  393. AVERAGE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> XYZ-1002 QTcF Int. (msec) Baseline  400. AVERAGE</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Straub, Stefan Bundfuss, Jeffrey Dickinson, Ross Farrugia, Fanny Gautier, Dinakar Kulkarni, Edoardo Mancini, Sadchla Mascary, Gordon Miller, Jim Rothstein, Sophie Shapcott, Eric Simms, Daniel Sjoberg, Stefan Thoma, Phillip Webster, Zelos Zhu, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

