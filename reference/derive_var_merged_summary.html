<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Merge Summary Variables â€” derive_var_merged_summary â€¢ admiral</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merge Summary Variables â€” derive_var_merged_summary"><meta name="description" content="Merge a summary variable from a dataset to the input dataset."><meta property="og:description" content="Merge a summary variable from a dataset to the input dataset."><meta property="og:image" content="https://pharmaverse.github.io/admiral/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">admiral</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/admiral.html">Get Started</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/pharmaverse/admiral/blob/main/inst/cheatsheet/admiral_cheatsheet.pdf">Cheatsheet</a></li>
    <li><a class="dropdown-item" href="https://pharmaverse.github.io/admiraldiscovery/articles/presentation_archive.html">Presentation Archive</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-user-guides" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">User Guides</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-user-guides"><li><h6 class="dropdown-header" data-toc-skip>General Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/concepts_conventions.html">Programming Concepts and Conventions</a></li>
    <li><a class="dropdown-item" href="../articles/generic.html">Generic Derivations</a></li>
    <li><a class="dropdown-item" href="../articles/higher_order.html">Higher Order Functions</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>ADaM Script Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/adsl.html">Creating a Basic ADSL</a></li>
    <li><a class="dropdown-item" href="../articles/occds.html">Creating an OCCDS ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/bds_finding.html">Creating a BDS Findings ADAM</a></li>
    <li><a class="dropdown-item" href="../articles/bds_exposure.html">Creating a BDS Exposure ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/bds_tte.html">Creating a BDS Time-to-Event ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/questionnaires.html">Creating Questionnaire ADaMs</a></li>
    <li><a class="dropdown-item" href="../articles/pk_adnca.html">Creating a PK NCA or Population PK ADaM</a></li>
    <li><a class="dropdown-item" href="../articles/hys_law.html">Hy's Law Implementation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Special Topics Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/imputation.html">Date and Time Imputation</a></li>
    <li><a class="dropdown-item" href="../articles/visits_periods.html">Visit and Period Variables</a></li>
    <li><a class="dropdown-item" href="../articles/queries_dataset.html">Queries Dataset Documentation</a></li>
    <li><a class="dropdown-item" href="../articles/lab_grading.html">Lab Grading</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/faq.html">FAQ</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="https://pharmaverse.github.io/admiraldiscovery/articles/reactable.html">ðŸ”Ž Find my function</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://pharmaverse.slack.com/" aria-label="Slack"><span class="fa fa-slack"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/website-versions.html" aria-label="Previous Release Websites"><span class="fa fa-history"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/admiral/issues/new/choose" aria-label="New Issue"><span class="fa fa-bug"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pharmaverse/admiral/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Merge Summary Variables</h1>
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiral/blob/main/R/derive_merged.R" class="external-link"><code>R/derive_merged.R</code></a></small>
      <div class="d-none name"><code>derive_var_merged_summary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Merge a summary variable from a dataset to the input dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">derive_var_merged_summary</span><span class="op">(</span></span>
<span>  <span class="va">dataset</span>,</span>
<span>  <span class="va">dataset_add</span>,</span>
<span>  <span class="va">by_vars</span>,</span>
<span>  new_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filter_add <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  missing_values <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dataset">dataset<a class="anchor" aria-label="anchor" href="#arg-dataset"></a></dt>
<dd><p>Input dataset</p>
<p>The variables specified by the <code>by_vars</code> argument are expected to be in the dataset.</p></dd>


<dt id="arg-dataset-add">dataset_add<a class="anchor" aria-label="anchor" href="#arg-dataset-add"></a></dt>
<dd><p>Additional dataset</p>
<p>The variables specified by the <code>by_vars</code> and the variables used on the left
hand sides of the <code>new_vars</code> arguments are expected.</p></dd>


<dt id="arg-by-vars">by_vars<a class="anchor" aria-label="anchor" href="#arg-by-vars"></a></dt>
<dd><p>Grouping variables</p>
<p>The expressions on the left hand sides of <code>new_vars</code> are evaluated by the
specified <em>variables</em>. Then the resulting values are merged to the input
dataset (<code>dataset</code>) by the specified <em>variables</em>.</p>
<p><em>Permitted Values</em>: list of variables created by <code><a href="reexport-exprs.html">exprs()</a></code>
e.g. <code>exprs(USUBJID, VISIT)</code></p></dd>


<dt id="arg-new-vars">new_vars<a class="anchor" aria-label="anchor" href="#arg-new-vars"></a></dt>
<dd><p>New variables to add</p>
<p>The specified variables are added to the input dataset.</p>
<p>A named list of expressions is expected:</p><ul><li><p>LHS refer to a variable.</p></li>
<li><p>RHS refers to the values to set to the variable. This can be a string, a
symbol, a numeric value, an expression or NA. If summary functions are
used, the values are summarized by the variables specified for <code>by_vars</code>.</p></li>
</ul><p>For example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  new_vars <span class="ot">=</span> <span class="fu">exprs</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="at">DOSESUM =</span> <span class="fu">sum</span>(AVAL),</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    <span class="at">DOSEMEAN =</span> <span class="fu">mean</span>(AVAL)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  )</span></code></pre><p></p></div></dd>


<dt id="arg-filter-add">filter_add<a class="anchor" aria-label="anchor" href="#arg-filter-add"></a></dt>
<dd><p>Filter for additional dataset (<code>dataset_add</code>)</p>
<p>Only observations fulfilling the specified condition are taken into account
for summarizing. If the argument is not specified, all observations are
considered.</p>
<p><em>Permitted Values</em>: a condition</p></dd>


<dt id="arg-missing-values">missing_values<a class="anchor" aria-label="anchor" href="#arg-missing-values"></a></dt>
<dd><p>Values for non-matching observations</p>
<p>For observations of the input dataset (<code>dataset</code>) which do not have a
matching observation in the additional dataset (<code>dataset_add</code>) the values
of the specified variables are set to the specified value. Only variables
specified for <code>new_vars</code> can be specified for <code>missing_values</code>.</p>
<p><em>Permitted Values</em>: named list of expressions, e.g.,
<code>exprs(BASEC = "MISSING", BASE = -1)</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The output dataset contains all observations and variables of the
input dataset and additionally the variables specified for <code>new_vars</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ol><li><p>The records from the additional dataset (<code>dataset_add</code>) are restricted
to those matching the <code>filter_add</code> condition.</p></li>
<li><p>The new variables (<code>new_vars</code>) are created for each by group (<code>by_vars</code>)
in the additional dataset (<code>dataset_add</code>) by calling <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize()</a></code>. I.e.,
all observations of a by group are summarized to a single observation.</p></li>
<li><p>The new variables are merged to the input dataset. For observations
without a matching observation in the additional dataset the new variables
are set to <code>NA</code>. Observations in the additional dataset which have no
matching observation in the input dataset are ignored.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="derive_summary_records.html">derive_summary_records()</a></code>, <code><a href="get_summary_records.html">get_summary_records()</a></code></p>
<p>General Derivation Functions for all ADaMs that returns variable appended to dataset:
<code><a href="derive_var_extreme_flag.html">derive_var_extreme_flag</a>()</code>,
<code><a href="derive_var_joined_exist_flag.html">derive_var_joined_exist_flag</a>()</code>,
<code><a href="derive_var_merged_ef_msrc.html">derive_var_merged_ef_msrc</a>()</code>,
<code><a href="derive_var_merged_exist_flag.html">derive_var_merged_exist_flag</a>()</code>,
<code><a href="derive_var_obs_number.html">derive_var_obs_number</a>()</code>,
<code><a href="derive_var_relative_flag.html">derive_var_relative_flag</a>()</code>,
<code><a href="derive_vars_cat.html">derive_vars_cat</a>()</code>,
<code><a href="derive_vars_computed.html">derive_vars_computed</a>()</code>,
<code><a href="derive_vars_joined.html">derive_vars_joined</a>()</code>,
<code><a href="derive_vars_merged.html">derive_vars_merged</a>()</code>,
<code><a href="derive_vars_merged_lookup.html">derive_vars_merged_lookup</a>()</code>,
<code><a href="derive_vars_transposed.html">derive_vars_transposed</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add a variable for the mean of AVAL within each visit</span></span></span>
<span class="r-in"><span><span class="va">adbds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">USUBJID</span>,  <span class="op">~</span><span class="va">AVISIT</span>,  <span class="op">~</span><span class="va">ASEQ</span>, <span class="op">~</span><span class="va">AVAL</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,      <span class="st">"WEEK 1"</span>,      <span class="fl">1</span>,    <span class="fl">10</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,      <span class="st">"WEEK 1"</span>,      <span class="fl">2</span>,    <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,      <span class="st">"WEEK 2"</span>,      <span class="fl">3</span>,    <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,      <span class="st">"WEEK 3"</span>,      <span class="fl">4</span>,    <span class="fl">42</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,      <span class="st">"WEEK 4"</span>,      <span class="fl">5</span>,    <span class="fl">12</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,      <span class="st">"WEEK 4"</span>,      <span class="fl">6</span>,    <span class="fl">12</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,      <span class="st">"WEEK 4"</span>,      <span class="fl">7</span>,    <span class="fl">15</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,      <span class="st">"WEEK 1"</span>,      <span class="fl">1</span>,    <span class="fl">21</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,      <span class="st">"WEEK 4"</span>,      <span class="fl">2</span>,    <span class="fl">22</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">derive_var_merged_summary</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">adbds</span>,</span></span>
<span class="r-in"><span>  dataset_add <span class="op">=</span> <span class="va">adbds</span>,</span></span>
<span class="r-in"><span>  by_vars <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">AVISIT</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  new_vars <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    MEANVIS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">AVAL</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    MAXVIS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">AVAL</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>There was 1 warning in `summarise()`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">â„¹</span> In argument: `MAXVIS = max(AVAL, na.rm = TRUE)`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">â„¹</span> In group 2: `USUBJID = "1"` and `AVISIT = "WEEK 2"`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Caused by warning in `max()`:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> no non-missing arguments to max; returning -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 Ã— 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID AVISIT  ASEQ  AVAL MEANVIS MAXVIS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 1       WEEK 1     1    10      10     10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 1       WEEK 1     2    <span style="color: #BB0000;">NA</span>      10     10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 1       WEEK 2     3    <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NaN</span>   -<span style="color: #BB0000;">Inf</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> 1       WEEK 3     4    42      42     42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> 1       WEEK 4     5    12      13     15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> 1       WEEK 4     6    12      13     15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> 1       WEEK 4     7    15      13     15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> 2       WEEK 1     1    21      21     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> 2       WEEK 4     2    22      22     22</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add a variable listing the lesion ids at baseline</span></span></span>
<span class="r-in"><span><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">USUBJID</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"3"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">USUBJID</span>,     <span class="op">~</span><span class="va">AVISIT</span>, <span class="op">~</span><span class="va">LESIONID</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,       <span class="st">"BASELINE"</span>,  <span class="st">"INV-T1"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,       <span class="st">"BASELINE"</span>,  <span class="st">"INV-T2"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,       <span class="st">"BASELINE"</span>,  <span class="st">"INV-T3"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,       <span class="st">"BASELINE"</span>,  <span class="st">"INV-T4"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,         <span class="st">"WEEK 1"</span>,  <span class="st">"INV-T1"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,         <span class="st">"WEEK 1"</span>,  <span class="st">"INV-T2"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"1"</span>,         <span class="st">"WEEK 1"</span>,  <span class="st">"INV-T4"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,       <span class="st">"BASELINE"</span>,  <span class="st">"INV-T1"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,       <span class="st">"BASELINE"</span>,  <span class="st">"INV-T2"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,       <span class="st">"BASELINE"</span>,  <span class="st">"INV-T3"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,         <span class="st">"WEEK 1"</span>,  <span class="st">"INV-T1"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"2"</span>,         <span class="st">"WEEK 1"</span>,  <span class="st">"INV-N1"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">derive_var_merged_summary</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">adsl</span>,</span></span>
<span class="r-in"><span>  dataset_add <span class="op">=</span> <span class="va">adtr</span>,</span></span>
<span class="r-in"><span>  by_vars <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  filter_add <span class="op">=</span> <span class="va">AVISIT</span> <span class="op">==</span> <span class="st">"BASELINE"</span>,</span></span>
<span class="r-in"><span>  new_vars <span class="op">=</span> <span class="fu"><a href="reexport-exprs.html">exprs</a></span><span class="op">(</span>LESIONSBL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">LESIONID</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 Ã— 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID LESIONSBL                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 1       INV-T1, INV-T2, INV-T3, INV-T4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 2       INV-T1, INV-T2, INV-T3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 3       <span style="color: #BB0000;">NA</span>                            </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Straub, Stefan Bundfuss, Jeffrey Dickinson, Ross Farrugia, Fanny Gautier, Dinakar Kulkarni, Edoardo Mancini, Sadchla Mascary, Gordon Miller, Jim Rothstein, Sophie Shapcott, Eric Simms, Daniel Sjoberg, Stefan Thoma, Phillip Webster, Zelos Zhu, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

