<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Filters the observations before or after the observation where a specified
condition is fulfilled for each by group. For example, the function could be
called to select for each subject all observations before the first disease
progression."><title>Filter the Observations Before or After a Condition is Fulfilled — filter_relative • admiral</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filter the Observations Before or After a Condition is Fulfilled — filter_relative"><meta property="og:description" content="Filters the observations before or after the observation where a specified
condition is fulfilled for each by group. For example, the function could be
called to select for each subject all observations before the first disease
progression."><meta property="og:image" content="https://pharmaverse.github.io/admiral/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">admiral</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/admiral.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>User Guides</h6>
    <a class="dropdown-item" href="../articles/adsl.html">Creating ADSL</a>
    <a class="dropdown-item" href="../articles/occds.html">Creating an OCCDS ADaM</a>
    <a class="dropdown-item" href="../articles/bds_finding.html">Creating a BDS Finding ADaM</a>
    <a class="dropdown-item" href="../articles/bds_exposure.html">Creating a BDS Exposure ADaM</a>
    <a class="dropdown-item" href="../articles/bds_tte.html">Creating a BDS Time-to-Event ADaM</a>
    <a class="dropdown-item" href="../articles/imputation.html">Date and Time Imputation</a>
    <a class="dropdown-item" href="../articles/queries_dataset.html">Queries Dataset Documentation</a>
    <a class="dropdown-item" href="../articles/faq.html">FAQ</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developer Guides</h6>
    <a class="dropdown-item" href="../articles/contribution_model.html">Contribution to {admiral}</a>
    <a class="dropdown-item" href="../articles/development_process.html">Development Process</a>
    <a class="dropdown-item" href="../articles/programming_strategy.html">Programming Strategy</a>
    <a class="dropdown-item" href="../articles/git_usage.html">Guidance for git and GitHub Usage</a>
    <a class="dropdown-item" href="../articles/writing_vignettes.html">Writing Vignettes</a>
    <a class="dropdown-item" href="../articles/pr_review_guidance.html">Pull Request Review Guidance</a>
    <a class="dropdown-item" href="../articles/unit_test_guidance.html">Unit Test Guidance</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pharmaverse/admiral/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Filter the Observations Before or After a Condition is Fulfilled</h1>
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiral/blob/main/R/filter_relative.R" class="external-link"><code>R/filter_relative.R</code></a></small>
      <div class="d-none name"><code>filter_relative.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Filters the observations before or after the observation where a specified
condition is fulfilled for each by group. For example, the function could be
called to select for each subject all observations before the first disease
progression.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">filter_relative</span><span class="op">(</span>
  <span class="va">dataset</span>,
  <span class="va">by_vars</span>,
  <span class="va">order</span>,
  <span class="va">condition</span>,
  <span class="va">mode</span>,
  <span class="va">selection</span>,
  <span class="va">inclusive</span>,
  keep_no_ref_groups <span class="op">=</span> <span class="cn">TRUE</span>,
  check_type <span class="op">=</span> <span class="st">"warning"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dataset</dt>
<dd><p>Input dataset</p>
<p>The variables specified by the <code>order</code> and the <code>by_vars</code> parameter are
expected.</p></dd>
<dt>by_vars</dt>
<dd><p>Grouping variables</p>
<p><em>Permitted Values:</em> list of variables created by <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code></p></dd>
<dt>order</dt>
<dd><p>Sort order</p>
<p>Within each by group the observations are ordered by the specified order.</p>
<p><em>Permitted Values:</em> list of variables or <code>desc(&lt;variable&gt;)</code> function calls
created by <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code>, e.g., <code>vars(ADT, desc(AVAL))</code></p></dd>
<dt>condition</dt>
<dd><p>Condition for Reference Observation</p>
<p>The specified condition determines the reference observation. The output
dataset contains all observations before or after (<code>selection</code> parameter)
the reference observation.</p></dd>
<dt>mode</dt>
<dd><p>Selection mode (first or last)</p>
<p>If <code>"first"</code> is specified, for each by group the observations before or
after (<code>selection</code> parameter) the observation where the condition
(<code>condition</code> parameter) is fulfilled the <em>first</em> time is included in the
output dataset. If <code>"last"</code> is specified, for each by group the
observations before or after (<code>selection</code> parameter) the observation where
the condition (<code>condition</code> parameter) is fulfilled the <em>last</em> time is
included in the output dataset.</p>
<p><em>Permitted Values:</em> <code>"first"</code>, <code>"last"</code></p></dd>
<dt>selection</dt>
<dd><p>Select observations before or after the reference observation?</p>
<p><em>Permitted Values:</em> <code>"before"</code>, <code>"after"</code></p></dd>
<dt>inclusive</dt>
<dd><p>Include the reference observation?</p>
<p><em>Permitted Values:</em> <code>TRUE</code>, <code>FALSE</code></p></dd>
<dt>keep_no_ref_groups</dt>
<dd><p>Should by groups without reference observation be kept?</p>
<p><em>Default:</em> <code>TRUE</code></p>
<p><em>Permitted Values:</em> <code>TRUE</code>, <code>FALSE</code></p></dd>
<dt>check_type</dt>
<dd><p>Check uniqueness?</p>
<p>If <code>"warning"</code> or <code>"error"</code> is specified, the specified message is issued
if the observations of the input dataset are not unique with respect to the
by variables and the order.</p>
<p><em>Default:</em> <code>"none"</code></p>
<p><em>Permitted Values:</em> <code>"none"</code>, <code>"warning"</code>, <code>"error"</code></p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A dataset containing for each by group the observations before or
after the observation where the condition was fulfilled the first or last
time</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For each by group ( <code>by_vars</code> parameter) the observations before or
after (<code>selection</code> parameter) the observations where the condition
(<code>condition</code> parameter) if fulfilled the first or last time (<code>order</code>
parameter and <code>mode</code> parameter) is included in the output dataset.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Stefan Bundfuss</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflict <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="op">~</span><span class="va">USUBJID</span>, <span class="op">~</span><span class="va">AVISITN</span>, <span class="op">~</span><span class="va">AVALC</span>,</span>
<span class="r-in">  <span class="st">"1"</span>,      <span class="fl">1</span>,        <span class="st">"PR"</span>,</span>
<span class="r-in">  <span class="st">"1"</span>,      <span class="fl">2</span>,        <span class="st">"CR"</span>,</span>
<span class="r-in">  <span class="st">"1"</span>,      <span class="fl">3</span>,        <span class="st">"CR"</span>,</span>
<span class="r-in">  <span class="st">"1"</span>,      <span class="fl">4</span>,        <span class="st">"SD"</span>,</span>
<span class="r-in">  <span class="st">"1"</span>,      <span class="fl">5</span>,        <span class="st">"NE"</span>,</span>
<span class="r-in">  <span class="st">"2"</span>,      <span class="fl">1</span>,        <span class="st">"SD"</span>,</span>
<span class="r-in">  <span class="st">"2"</span>,      <span class="fl">2</span>,        <span class="st">"PD"</span>,</span>
<span class="r-in">  <span class="st">"2"</span>,      <span class="fl">3</span>,        <span class="st">"PD"</span>,</span>
<span class="r-in">  <span class="st">"3"</span>,      <span class="fl">1</span>,        <span class="st">"SD"</span>,</span>
<span class="r-in">  <span class="st">"4"</span>,      <span class="fl">1</span>,        <span class="st">"SD"</span>,</span>
<span class="r-in">  <span class="st">"4"</span>,      <span class="fl">2</span>,        <span class="st">"PR"</span>,</span>
<span class="r-in">  <span class="st">"4"</span>,      <span class="fl">3</span>,        <span class="st">"PD"</span>,</span>
<span class="r-in">  <span class="st">"4"</span>,      <span class="fl">4</span>,        <span class="st">"SD"</span>,</span>
<span class="r-in">  <span class="st">"4"</span>,      <span class="fl">5</span>,        <span class="st">"PR"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Select observations up to first PD for each patient</span></span>
<span class="r-in"><span class="va">response</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">filter_relative</span><span class="op">(</span></span>
<span class="r-in">    by_vars <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span>,</span>
<span class="r-in">    order <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">AVISITN</span><span class="op">)</span>,</span>
<span class="r-in">    condition <span class="op">=</span> <span class="va">AVALC</span> <span class="op">==</span> <span class="st">"PD"</span>,</span>
<span class="r-in">    mode <span class="op">=</span> <span class="st">"first"</span>,</span>
<span class="r-in">    selection <span class="op">=</span> <span class="st">"before"</span>,</span>
<span class="r-in">    inclusive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># A tibble: 11 x 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    USUBJID AVISITN AVALC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 1</span><span> 1             1 PR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 2</span><span> 1             2 CR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 3</span><span> 1             3 CR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 4</span><span> 1             4 SD   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 5</span><span> 1             5 NE   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 6</span><span> 2             1 SD   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 7</span><span> 2             2 PD   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 8</span><span> 3             1 SD   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 9</span><span> 4             1 SD   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">10</span><span> 4             2 PR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">11</span><span> 4             3 PD   </span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Select observations after last CR, PR, or SD for each patient</span></span>
<span class="r-in"><span class="va">response</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">filter_relative</span><span class="op">(</span></span>
<span class="r-in">    by_vars <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span>,</span>
<span class="r-in">    order <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">AVISITN</span><span class="op">)</span>,</span>
<span class="r-in">    condition <span class="op">=</span> <span class="va">AVALC</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CR"</span>, <span class="st">"PR"</span>, <span class="st">"SD"</span><span class="op">)</span>,</span>
<span class="r-in">    mode <span class="op">=</span> <span class="st">"last"</span>,</span>
<span class="r-in">    selection <span class="op">=</span> <span class="st">"after"</span>,</span>
<span class="r-in">    inclusive <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># A tibble: 3 x 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID AVISITN AVALC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">1</span><span> 1             5 NE   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">2</span><span> 2             2 PD   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">3</span><span> 2             3 PD   </span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Select observations from first response to first PD</span></span>
<span class="r-in"><span class="va">response</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">filter_relative</span><span class="op">(</span></span>
<span class="r-in">    by_vars <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span>,</span>
<span class="r-in">    order <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">AVISITN</span><span class="op">)</span>,</span>
<span class="r-in">    condition <span class="op">=</span> <span class="va">AVALC</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CR"</span>, <span class="st">"PR"</span><span class="op">)</span>,</span>
<span class="r-in">    mode <span class="op">=</span> <span class="st">"first"</span>,</span>
<span class="r-in">    selection <span class="op">=</span> <span class="st">"after"</span>,</span>
<span class="r-in">    inclusive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">    keep_no_ref_groups <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">filter_relative</span><span class="op">(</span></span>
<span class="r-in">    by_vars <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span>,</span>
<span class="r-in">    order <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">AVISITN</span><span class="op">)</span>,</span>
<span class="r-in">    condition <span class="op">=</span> <span class="va">AVALC</span> <span class="op">==</span> <span class="st">"PD"</span>,</span>
<span class="r-in">    mode <span class="op">=</span> <span class="st">"first"</span>,</span>
<span class="r-in">    selection <span class="op">=</span> <span class="st">"before"</span>,</span>
<span class="r-in">    inclusive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># A tibble: 7 x 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   USUBJID AVISITN AVALC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;dbl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">1</span><span> 1             1 PR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">2</span><span> 1             2 CR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">3</span><span> 1             3 CR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">4</span><span> 1             4 SD   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">5</span><span> 1             5 NE   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">6</span><span> 4             2 PR   </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">7</span><span> 4             3 PD   </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Thomas Neitmann, Stefan Bundfuss, Ben Straub, Samia Kabi, Gordon Miller, Teckla Akinyi, Andrew Smith, Konstantina Koukourikou, Ross Farrugia, Eric Simms, Annie Yang, Robin Koeger, Sophie Shapcott, Ojesh Upadhyay, Jack McGavigan, Kamila Duniec, Gayatri G, Alana Harris, Mahdi About, Pooja Kumari, Claudia Carlucci, Daniil Stefonishin, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

