<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Creates a queries dataset as input dataset to the dataset_queries argument
in the derive_vars_query() function as defined in the Queries Dataset Documentation."><title>Creates a queries dataset as input dataset to the dataset_queries argument in
derive_vars_query() — create_query_data • admiral</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creates a queries dataset as input dataset to the dataset_queries argument in
derive_vars_query() — create_query_data"><meta property="og:description" content="Creates a queries dataset as input dataset to the dataset_queries argument
in the derive_vars_query() function as defined in the Queries Dataset Documentation."><meta property="og:image" content="https://pharmaverse.github.io/admiral/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">admiral</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/admiral.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>User Guides</h6>
    <a class="dropdown-item" href="../articles/adsl.html">Creating ADSL</a>
    <a class="dropdown-item" href="../articles/occds.html">Creating an OCCDS ADaM</a>
    <a class="dropdown-item" href="../articles/bds_finding.html">Creating a BDS Finding ADaM</a>
    <a class="dropdown-item" href="../articles/bds_exposure.html">Creating a BDS Exposure ADaM</a>
    <a class="dropdown-item" href="../articles/bds_tte.html">Creating a BDS Time-to-Event ADaM</a>
    <a class="dropdown-item" href="../articles/imputation.html">Date and Time Imputation</a>
    <a class="dropdown-item" href="../articles/queries_dataset.html">Queries Dataset Documentation</a>
    <a class="dropdown-item" href="../articles/faq.html">FAQ</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developer Guides</h6>
    <a class="dropdown-item" href="../articles/contribution_model.html">Contribution to {admiral}</a>
    <a class="dropdown-item" href="../articles/development_process.html">Development Process</a>
    <a class="dropdown-item" href="../articles/programming_strategy.html">Programming Strategy</a>
    <a class="dropdown-item" href="../articles/git_usage.html">Guidance for git and GitHub Usage</a>
    <a class="dropdown-item" href="../articles/writing_vignettes.html">Writing Vignettes</a>
    <a class="dropdown-item" href="../articles/pr_review_guidance.html">Pull Request Review Guidance</a>
    <a class="dropdown-item" href="../articles/unit_test_guidance.html">Unit Test Guidance</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pharmaverse/admiral/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Creates a queries dataset as input dataset to the <code>dataset_queries</code> argument in
<code>derive_vars_query()</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/pharmaverse/admiral/blob/main/R/create_query_data.R" class="external-link"><code>R/create_query_data.R</code></a></small>
      <div class="d-none name"><code>create_query_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a queries dataset as input dataset to the <code>dataset_queries</code> argument
in the <code><a href="derive_vars_query.html">derive_vars_query()</a></code> function as defined in the <a href="../articles/queries_dataset.html">Queries Dataset Documentation</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">create_query_data</span><span class="op">(</span>
  <span class="va">queries</span>,
  meddra_version <span class="op">=</span> <span class="cn">NULL</span>,
  whodd_version <span class="op">=</span> <span class="cn">NULL</span>,
  get_smq_fun <span class="op">=</span> <span class="cn">NULL</span>,
  get_sdg_fun <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>queries</dt>
<dd><p>List of queries</p>
<p>A list of <code><a href="query.html">query()</a></code> objects is expected.</p></dd>
<dt>meddra_version</dt>
<dd><p>MedDRA version</p>
<p>The MedDRA version used for coding the terms in the AE dataset should be
specified. If any of the queries is a SMQ or a customized query including a
SMQ, the parameter needs to be specified.</p>
<p><em>Permitted Values</em>: A character string (the expected format is
company-specific)</p></dd>
<dt>whodd_version</dt>
<dd><p>WHO Drug Dictionary version</p>
<p>The version of the WHO Drug Dictionary used for coding the terms in the CM
dataset should be specified. If any of the queries is a SDG, the parameter
needs to be specified.</p>
<p><em>Permitted Values</em>: A character string (the expected format is
company-specific)</p></dd>
<dt>get_smq_fun</dt>
<dd><p>Function which returns the terms of an SMQ</p>
<p>For each query specified for the <code>queries</code> parameter which refers to an SMQ
(i.e., those where the <code>definition</code> field is set to a <code><a href="smq_select.html">smq_select()</a></code> object
or a list which contains at least one <code><a href="smq_select.html">smq_select()</a></code> object) the specified
function is called to retrieve the terms defining the query. This function
is not provided by admiral as it is company specific, i.e., it has to be
implemented at company level.</p>
<p>The function must return a dataset with all the terms defining the SMQ. The
output dataset must contain the following variables.</p><ul><li><p><code>TERM_LEVEL</code>: the variable to be used for defining a term of the SMQ, e.g.,
<code>AEDECOD</code></p></li>
<li><p><code>TERM_NAME</code>: the name of the term if the variable <code>TERM_LEVEL</code> is
referring to is character</p></li>
<li><p><code>TERM_ID</code> the numeric id of the term if the variable <code>TERM_LEVEL</code> is
referring to is numeric</p></li>
<li><p><code>QUERY_NAME</code>: the name of the SMQ. The values must be the same for all
observations.</p></li>
</ul><p>The function must provide the following parameters</p><ul><li><p><code>smq_select</code>: A <code><a href="smq_select.html">smq_select()</a></code> object.</p></li>
<li><p><code>version</code>: The MedDRA version. The value specified for the
<code>meddra_version</code> in the <code>create_query_data()</code> call is passed to this
parameter.</p></li>
<li><p><code>keep_id</code>: If set to <code>TRUE</code>, the output dataset must contain the
<code>QUERY_ID</code> variable. The variable must be set to the numeric id of the SMQ.</p></li>
<li><p><code>temp_env</code>: A temporary environment is passed to this parameter. It can
be used to store data which is used for all SMQs in the
<code>create_query_data()</code> call. For example if the SMQs need to be read from a
database all SMQs can be read and stored in the environment when the first
SMQ is handled. For the other SMQs the terms can be retrieved from the
environment instead of accessing the database again.</p></li>
</ul></dd>
<dt>get_sdg_fun</dt>
<dd><p>Function which returns the terms of an SDG</p>
<p>For each query specified for the <code>queries</code> parameter which refers to an SDG
the specified function is called to retrieve the terms defining the query.
This function is not provided by admiral as it is company specific, i.e.,
it has to be implemented at company level.</p>
<p>The function must return a dataset with all the terms defining the SDG. The
output dataset must contain the following variables.</p><ul><li><p><code>TERM_LEVEL</code>: the variable to be used for defining a term of the SDG, e.g.,
<code>CMDECOD</code></p></li>
<li><p><code>TERM_NAME</code>: the name of the term if the variable <code>TERM_LEVEL</code> is
referring to is character</p></li>
<li><p><code>TERM_ID</code> the numeric id of the term if the variable <code>TERM_LEVEL</code> is
referring to is numeric</p></li>
<li><p><code>QUERY_NAME</code>: the name of the SDG. The values must be the same for all
observations.</p></li>
</ul><p>The function must provide the following parameters</p><ul><li><p><code>sdg_select</code>: A <code><a href="sdg_select.html">sdg_select()</a></code> object.</p></li>
<li><p><code>version</code>: The WHO drug dictionary version. The value specified for the
<code>whodd_version</code> in the <code>create_query_data()</code> call is passed to this
parameter.</p></li>
<li><p><code>keep_id</code>: If set to <code>TRUE</code>, the output dataset must contain the
<code>QUERY_ID</code> variable. The variable must be set to the numeric id of the SDG.</p></li>
<li><p><code>temp_env</code>: A temporary environment is passed to this parameter. It can
be used to store data which is used for all SDGs in the
<code>create_query_data()</code> call. For example if the SDGs need to be read from a
database all SDGs can be read and stored in the environment when the first
SDG is handled. For the other SDGs the terms can be retrieved from the
environment instead of accessing the database again.</p></li>
</ul></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A dataset to be used as input dataset to the <code>dataset_queries</code>argument in <code><a href="derive_vars_query.html">derive_vars_query()</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For each <code><a href="query.html">query()</a></code> object listed in the <code>queries</code> argument, the terms belonging
to the query (<code>TERM_LEVEL</code>, <code>TERM_NAME</code>, <code>TERM_ID</code>) are determined with respect
to the <code>definition</code> field of the query: if the definition field of the
<code><a href="query.html">query()</a></code> object is</p><ul><li><p>an <code><a href="smq_select.html">smq_select()</a></code> object, the terms are read from the SMQ
database by calling the function specified for the <code>get_smq_fun</code> parameter.</p></li>
<li><p>an <code><a href="sdg_select.html">sdg_select()</a></code> object, the terms are read from the SDG
database by calling the function specified for the <code>get_sdg_fun</code> parameter.</p></li>
<li><p>a data frame, the terms stored in the data frame are used.</p></li>
<li><p>a list of data frames and <code><a href="smq_select.html">smq_select()</a></code> objects, all terms from
the data frames and all terms read from the SMQ database referenced by the
<code><a href="smq_select.html">smq_select()</a></code> objects are collated.</p></li>
</ul><p>The following variables (as described in <a href="../articles/queries_dataset.html">Queries Dataset Documentation</a>) are created:</p><ul><li><p><code>VAR_PREFIX</code>: Prefix of the variables to be created by
<code><a href="derive_vars_query.html">derive_vars_query()</a></code> as specified by the <code>prefix</code> element.</p></li>
<li><p><code>QUERY_NAME</code>: Name of the query as specified by the <code>name</code> element.</p></li>
<li><p><code>QUERY_ID</code>: Id of the query as specified by the <code>id</code> element. If the <code>id</code>
element is not specified for a query, the variable is set to <code>NA</code>. If the
<code>id</code> element is not specified for any query, the variable is not created.</p></li>
<li><p><code>QUERY_SCOPE</code>: scope of the query as specified by the <code>scope</code> element of
the <code><a href="smq_select.html">smq_select()</a></code> object. For queries not defined by a <code><a href="smq_select.html">smq_select()</a></code>
object, the variable is set to <code>NA</code>. If none of the queries is defined by a
<code><a href="smq_select.html">smq_select()</a></code> object, the variable is not created.</p></li>
<li><p><code>QUERY_SCOPE_NUM</code>: numeric scope of the query. It is set to <code>1</code> if the
scope is broad. Otherwise it is set to '2'. If the <code>add_scope_num</code> element
equals <code>FALSE</code>, the variable is set to <code>NA</code>. If the <code>add_scope_num</code> element
equals <code>FALSE</code> for all SMQs or none of the queries is an SMQ , the variable
is not created.</p></li>
<li><p><code>TERM_LEVEL</code>: Name of the variable used to identify the terms.</p></li>
<li><p><code>TERM_NAME</code>: Value of the term variable if it is a character variable.</p></li>
<li><p><code>TERM_ID</code>: Value of the term variable if it is a numeric variable.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="derive_vars_query.html">derive_vars_query()</a></code>, <code><a href="query.html">query()</a></code>, <code><a href="smq_select.html">smq_select()</a></code>, <code><a href="sdg_select.html">sdg_select()</a></code>, <a href="../articles/queries_dataset.html">Queries Dataset Documentation</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Stefan Bundfuss</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">admiral.test</span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pharmaverse.github.io/admiral/index.html">admiral</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># creating a query dataset for a customized query</span></span>
<span class="r-in"><span class="va">cqterms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="op">~</span><span class="va">TERM_NAME</span>, <span class="op">~</span><span class="va">TERM_ID</span>,</span>
<span class="r-in">  <span class="st">"APPLICATION SITE ERYTHEMA"</span>, <span class="fl">10003041L</span>,</span>
<span class="r-in">  <span class="st">"APPLICATION SITE PRURITUS"</span>, <span class="fl">10003053L</span></span>
<span class="r-in"><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>TERM_LEVEL <span class="op">=</span> <span class="st">"AEDECOD"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">cq</span> <span class="op">&lt;-</span> <span class="fu"><a href="query.html">query</a></span><span class="op">(</span></span>
<span class="r-in">  prefix <span class="op">=</span> <span class="st">"CQ01"</span>,</span>
<span class="r-in">  name <span class="op">=</span> <span class="st">"Application Site Issues"</span>,</span>
<span class="r-in">  definition <span class="op">=</span> <span class="va">cqterms</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">create_query_data</span><span class="op">(</span>queries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">cq</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># A tibble: 2 x 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TERM_NAME                 TERM_ID TERM_LEVEL VAR_PREFIX QUERY_NAME            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>                       </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>                 </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">1</span><span> APPLICATION SITE ERYTHE… 10</span><span style="text-decoration: underline;">003</span><span>041 AEDECOD    CQ01       Application Site Issu…</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">2</span><span> APPLICATION SITE PRURIT… 10</span><span style="text-decoration: underline;">003</span><span>053 AEDECOD    CQ01       Application Site Issu…</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># create a query dataset for SMQs</span></span>
<span class="r-in"><span class="va">pregsmq</span> <span class="op">&lt;-</span> <span class="fu"><a href="query.html">query</a></span><span class="op">(</span></span>
<span class="r-in">  prefix <span class="op">=</span> <span class="st">"SMQ02"</span>,</span>
<span class="r-in">  id <span class="op">=</span> <span class="va">auto</span>,</span>
<span class="r-in">  definition <span class="op">=</span> <span class="fu"><a href="smq_select.html">smq_select</a></span><span class="op">(</span></span>
<span class="r-in">    name <span class="op">=</span> <span class="st">"Pregnancy and neonatal topics (SMQ)"</span>,</span>
<span class="r-in">    scope <span class="op">=</span> <span class="st">"NARROW"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">bilismq</span> <span class="op">&lt;-</span> <span class="fu"><a href="query.html">query</a></span><span class="op">(</span></span>
<span class="r-in">  prefix <span class="op">=</span> <span class="st">"SMQ04"</span>,</span>
<span class="r-in">  definition <span class="op">=</span> <span class="fu"><a href="smq_select.html">smq_select</a></span><span class="op">(</span></span>
<span class="r-in">    id <span class="op">=</span> <span class="fl">20000121L</span>,</span>
<span class="r-in">    scope <span class="op">=</span> <span class="st">"BROAD"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The get_smq_terms function from admiral.test is used for this example.</span></span>
<span class="r-in"><span class="co"># In a real application a company-specific function must be used.</span></span>
<span class="r-in"><span class="fu">create_query_data</span><span class="op">(</span></span>
<span class="r-in">  queries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">pregsmq</span>, <span class="va">bilismq</span><span class="op">)</span>,</span>
<span class="r-in">  get_smq_fun <span class="op">=</span> <span class="fu">admiral.test</span><span class="fu">:::</span><span class="va"><a href="https://rdrr.io/pkg/admiral.test/man/get_smq_terms.html" class="external-link">get_smq_terms</a></span>,</span>
<span class="r-in">  meddra_version <span class="op">=</span> <span class="st">"20.1"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># A tibble: 43 x 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    TERM_NAME         TERM_LEVEL QUERY_NAME       QUERY_ID QUERY_SCOPE VAR_PREFIX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>             </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>               </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>       </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 1</span><span> Achromotrichia c… AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 2</span><span> Craniosynostosis  AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 3</span><span> Hypophosphatasia  AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 4</span><span> Congenital pyelo… AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 5</span><span> Uterine contract… AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 6</span><span> Ductus arteriosu… AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 7</span><span> Pseudotruncus ar… AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 8</span><span> Lipomeningocele   AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 9</span><span> Macrocephaly      AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">10</span><span> Carnitine palmit… AEDECOD    Pregnancy and n… 20</span><span style="text-decoration: underline;">000</span><span>185 NARROW      SMQ02     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># … with 33 more rows</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># create a query dataset for SDGs</span></span>
<span class="r-in"><span class="va">sdg</span> <span class="op">&lt;-</span> <span class="fu"><a href="query.html">query</a></span><span class="op">(</span></span>
<span class="r-in">  prefix <span class="op">=</span> <span class="st">"SDG01"</span>,</span>
<span class="r-in">  id <span class="op">=</span> <span class="va">auto</span>,</span>
<span class="r-in">  definition <span class="op">=</span> <span class="fu"><a href="sdg_select.html">sdg_select</a></span><span class="op">(</span></span>
<span class="r-in">    name <span class="op">=</span> <span class="st">"5-aminosalicylates for ulcerative colitis"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The get_sdg_terms function from admiral.test is used for this example.</span></span>
<span class="r-in"><span class="co"># In a real application a company-specific function must be used.</span></span>
<span class="r-in"><span class="fu">create_query_data</span><span class="op">(</span></span>
<span class="r-in">  queries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">sdg</span><span class="op">)</span>,</span>
<span class="r-in">  get_sdg_fun <span class="op">=</span> <span class="fu">admiral.test</span><span class="fu">:::</span><span class="va"><a href="https://rdrr.io/pkg/admiral.test/man/get_sdg_terms.html" class="external-link">get_sdg_terms</a></span>,</span>
<span class="r-in">  whodd_version <span class="op">=</span> <span class="st">"2019-09"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># A tibble: 16 x 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    TERM_NAME               TERM_LEVEL QUERY_NAME             QUERY_ID VAR_PREFIX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>                   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>                     </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 1</span><span> AMINOSALICYLIC ACID     CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 2</span><span> AMINOSALICYLATE CALCIUM CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 3</span><span> AMINOSALICYLATE CALCIU… CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 4</span><span> AMINOSALICYLATE SODIUM  CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 5</span><span> SODIUM AMINOSALICYLATE… CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 6</span><span> AMINOSALICYLATE SODIUM… CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 7</span><span> SULFASALAZINE           CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 8</span><span> CALCIUM BENZAMIDOSALIC… CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 9</span><span> OLSALAZINE              CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">10</span><span> OLSALAZINE SODIUM       CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">11</span><span> MESALAZINE              CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">12</span><span> BALSALAZIDE             CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">13</span><span> BALSALAZIDE SODIUM      CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">14</span><span> BALSALAZIDE DISODIUM D… CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">15</span><span> DERSALAZINE             CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">16</span><span> DERSALAZINE SODIUM      CMDECOD    5-aminosalicylates fo…      220 SDG01     </span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># creating a query dataset for a customized query including SMQs</span></span>
<span class="r-in"><span class="co"># The get_smq_terms function from admiral.test is used for this example.</span></span>
<span class="r-in"><span class="co"># In a real application a company-specific function must be used.</span></span>
<span class="r-in"><span class="fu">create_query_data</span><span class="op">(</span></span>
<span class="r-in">  queries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="fu"><a href="query.html">query</a></span><span class="op">(</span></span>
<span class="r-in">      prefix <span class="op">=</span> <span class="st">"CQ03"</span>,</span>
<span class="r-in">      name <span class="op">=</span> <span class="st">"Special issues of interest"</span>,</span>
<span class="r-in">      definition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">        <span class="fu"><a href="smq_select.html">smq_select</a></span><span class="op">(</span></span>
<span class="r-in">          name <span class="op">=</span> <span class="st">"Pregnancy and neonatal topics (SMQ)"</span>,</span>
<span class="r-in">          scope <span class="op">=</span> <span class="st">"NARROW"</span></span>
<span class="r-in">        <span class="op">)</span>,</span>
<span class="r-in">        <span class="va">cqterms</span></span>
<span class="r-in">      <span class="op">)</span></span>
<span class="r-in">    <span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span>,</span>
<span class="r-in">  get_smq_fun <span class="op">=</span> <span class="fu">admiral.test</span><span class="fu">:::</span><span class="va"><a href="https://rdrr.io/pkg/admiral.test/man/get_smq_terms.html" class="external-link">get_smq_terms</a></span>,</span>
<span class="r-in">  meddra_version <span class="op">=</span> <span class="st">"20.1"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># A tibble: 23 x 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    TERM_NAME                   TERM_LEVEL QUERY_NAME          TERM_ID VAR_PREFIX</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>                       </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>      </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>                 </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 1</span><span> Achromotrichia congenital   AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 2</span><span> Craniosynostosis            AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 3</span><span> Hypophosphatasia            AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 4</span><span> Congenital pyelocaliectasis AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 5</span><span> Uterine contractions durin… AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 6</span><span> Ductus arteriosus prematur… AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 7</span><span> Pseudotruncus arteriosus    AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 8</span><span> Lipomeningocele             AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"> 9</span><span> Macrocephaly                AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">10</span><span> Carnitine palmitoyltransfe… AEDECOD    Special issues of …      </span><span style="color: #BB0000;">NA</span><span> CQ03      </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;"># … with 13 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Thomas Neitmann, Stefan Bundfuss, Ben Straub, Samia Kabi, Gordon Miller, Teckla Akinyi, Andrew Smith, Konstantina Koukourikou, Ross Farrugia, Eric Simms, Annie Yang, Robin Koeger, Sophie Shapcott, Ojesh Upadhyay, Jack McGavigan, Kamila Duniec, Gayatri G, Alana Harris, Mahdi About, Pooja Kumari, Claudia Carlucci, Daniil Stefonishin, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

